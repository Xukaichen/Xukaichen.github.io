require=function e(t,n,i){function o(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(c)return c(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var r=n[s]={exports:{}};t[s][0].call(r.exports,function(e){var n=t[s][1][e];return o(n?n:e)},r,r.exports,e,t,n,i)}return n[s].exports}for(var c="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({ButtonScaler:[function(e,t,n){"use strict";cc._RFpush(t,"23d4cRdqCZNOIRFRXVg1uPL","ButtonScaler"),cc.Class({"extends":cc.Component,properties:{pressedScale:.85,transDuration:.1},onLoad:function(){function e(e){this.node.runAction(n.scaleDownAction)}function t(e){this.node.runAction(n.scaleUpAction)}var n=this;n.initScale=this.node.scale,n.button=n.getComponent(cc.Button),n.scaleDownAction=cc.scaleTo(n.transDuration,n.pressedScale),n.scaleUpAction=cc.scaleTo(n.transDuration,n.initScale),this.node.on("touchstart",e,this),this.node.on("touchend",t,this),this.node.on("touchcancel",t,this)}}),cc._RFpop()},{}],bg:[function(e,t,n){"use strict";cc._RFpush(t,"5529bALa3NATp8YuWM0mR9/","bg");var i=e("initObj");cc.Class({"extends":cc.Component,properties:{bg1:{"default":null,type:cc.Node},bg2:{"default":null,type:cc.Node}},init:function(){var e=i.player.level;e>1&&(this["bg"+(e-1)].active=!1),this["bg"+e].active=!0}}),cc._RFpop()},{initObj:"initObj"}],claw:[function(e,t,n){"use strict";cc._RFpush(t,"c0965pK/FlFGaW1wh+8Cn+n","claw");var i=e("config"),o=i.obj,c=i.player;cc.Class({"extends":cc.Component,properties:{minerNode:{"default":null,type:cc.Node},objNode:{"default":null,type:cc.Node}},onLoad:function(){this.miner=this.minerNode.getComponent("miner")},onCollisionEnter:function(e,t){if("down"!=this.miner.state)return!1;var n=o["tag"+e.tag];if(this.miner.state="up",this.miner.getAnimation(n.speed),c.preMoney=n.money,0!==n.money){this.miner.clawClose();var i=this.objNode,s=e.node.getComponent(cc.Sprite);i.getComponent(cc.Sprite).spriteFrame=s.spriteFrame,i.width=e.node.width,i.height=e.node.height,this.objShow(),e.node.destroy()}},objShow:function(){this.objNode.opacity=255},objHide:function(){this.objNode.opacity=0}}),cc._RFpop()},{config:"config"}],config:[function(e,t,n){"use strict";function i(e){var t,n,i,o,c=[];for(t in e)for(i=e[t],n=0;n<i.length;n++)o=JSON.parse(JSON.stringify(u[t])),o.x=i[n][0],o.y=i[n][1],c.push(o);return c}cc._RFpush(t,"77985bwWDZG+pukBl6BT6jd","config");var o={type:"heavy",numb:1},c={type:"light",numb:2},s={type:"light",numb:3},a={type:"fast",numb:4},l=Object.defineProperties({money:0,level:1,state:[],pause:!0,gameState:"run",preMoney:0,minerState:"rotate",isgamerun:function(){return"run"==this.gameState},getTarget:function(){return console.log(p["level"+this.level].money),p["level"+this.level].money},isSuccess:function(){return this.money>=this.getTarget()},gameEnd:function(){this.gameState="end"},gameRun:function(){this.gameState="run"}},{isSound:{get:function(){return"false"!==cc.sys.localStorage.getItem("isSound")},set:function(e){cc.sys.localStorage.setItem("isSound",e)},configurable:!0,enumerable:!0},isMusic:{get:function(){return"false"!==cc.sys.localStorage.getItem("isMusic")},set:function(e){cc.sys.localStorage.setItem("isMusic",e)},configurable:!0,enumerable:!0}}),u={tag1:{name:"kong",speed:s,money:0},tag2:{name:"gold1",speed:c,money:50},tag3:{name:"gold2",speed:c,money:100},tag4:{name:"gold3",speed:o,money:250},tag5:{name:"gold4",speed:o,money:500},tag6:{name:"boneBody",speed:c,money:7},tag7:{name:"boneHead",speed:c,money:20},tag8:{name:"stone0",speed:c,money:11},tag9:{name:"stone1",speed:o,money:20},tag10:{name:"mouse",speed:c,money:2},tag10:Object.defineProperties({name:"bag",speed:c},{money:{get:function(){return Math.ceil(800*Math.random())},configurable:!0,enumerable:!0}}),tag11:{name:"diamonds",speed:c,money:600}},r={tag2:[[100,100],[150,150]],tag3:[[100,300],[200,400]],tag4:[[700,30],[780,60],[180,100]],tag5:[[500,30],[680,160],[280,120]],tag8:[[700,400],[80,380],[880,100]],tag9:[[500,230]]},d={tag2:[[0,0],[100,100],[150,110]],tag4:[[-100,-20],[100,20]]},p={level1:{money:500,obj:i(r)},level2:{money:5e3,obj:i(d)}};t.exports=Object.defineProperties({level:p,player:l,obj:u},{fastSpeed:{get:function(){return a},set:function(e){cc.warn("无法设置fastSpeed为"+e)},configurable:!0,enumerable:!0}}),cc._RFpop()},{}],game:[function(e,t,n){"use strict";cc._RFpush(t,"a9d2a7g7/RI6al/2Pecq0ga","game");var i=e("initObj"),o=i.player;cc.Class({"extends":cc.Component,properties:{levelmusic:{"default":null,url:cc.AudioClip},bgNode:{"default":null,type:cc.Node},stateNode:{"default":null,type:cc.Node},objNode:{"default":null,type:cc.Node},minerNode:{"default":null,type:cc.Node},leveloverNode:{"default":null,type:cc.Node},clawNode:{"default":null,type:cc.Node}},onLoad:function(){this.init(),this.setCollision(),this.listenclick(),this.scheduleOnce(function(){this.goLevel()},.1)},init:function(){this.bg=this.bgNode.getComponent("bg"),this.state=this.stateNode.getComponent("state"),this.obj=this.objNode.getComponent("obj"),this.miner=this.minerNode.getComponent("miner"),this.claw=this.clawNode.getComponent("claw"),this.levelover=this.leveloverNode.getComponent("levelover"),this.menuNode=cc.find("menu"),this.menu=this.menuNode.getComponent("menu")},setLevelmusic:function(){this.menu.setcurrentbgAudio(this.levelmusic)},setCollision:function(){var e=cc.director.getCollisionManager();e.enabled=!0},goLevel:function(){o.pause=!1,this.setLevelmusic(),this.bg.init(),this.state.init(),this.obj.init(),this.miner.init()},gameEnd:function(){o.gameEnd(),o.preMoney=0,this.leveloverNode.active=!0,o.isSuccess()?this.levelover.success():this.levelover.fail()},goNext:function(){this.leveloverNode.active=!1,o.isSuccess()?(o.level++,this.goLevel()):(o.level=1,cc.director.loadScene("index"))},gameRun:function(){o.gameRun()},minerUp:function(){this.claw.objHide(),this.state.addMoney()},listenclick:function(){this.node.on("touchend",function(e){"rotate"!=this.miner.state||o.pause||(this.miner.state="down")},this)},pause:function(){this.menu.menushow()},run:function(){}}),cc._RFpop()},{initObj:"initObj"}],index:[function(e,t,n){"use strict";cc._RFpush(t,"a221du3OvNDdouNNSeHKZrZ","index");var i=e("initObj");i.player;cc.Class({"extends":cc.Component,properties:{menubgAudio:{"default":null,url:cc.AudioClip},cloud:{type:cc.Node,"default":null},miner:{type:cc.Node,"default":null},leg:{type:cc.Node,"default":null},face:{type:cc.Node,"default":null},minerdelayTime:{type:cc.Number,"default":null},clouddelayTime:{type:cc.Number,"default":null},settingbutton:{type:cc.Node,"default":null},startgame:{type:cc.Node,"default":null}},settingbuttonClick:function(){cc.find("menu").getComponent("menu").menushow()},startgameClick:function(){cc.director.loadScene("LeaveScene")},onLoad:function(){var e=this.minerdelayTime;this.cloudMove(),this.minerRightAction(e),this.scheduleOnce(function(){this.minerAction()},e),cc.find("menu").getComponent("menu").setcurrentbgAudio(this.menubgAudio)},cloudMove:function(){var e=cc.repeatForever(cc.sequence(cc.moveBy(this.clouddelayTime,1200,0),cc.moveBy(0,-1200,0)));this.cloud.runAction(e)},minerRightAction:function(e){this.face.opacity=0;var t=cc.moveBy(e,cc.p(340,0));this.miner.runAction(t)},minerAction:function(){this.leg.getComponent(cc.Animation).play("miner_leg"),this.face.getComponent(cc.Animation).play("miner_face"),this.face.opacity=255}}),cc._RFpop()},{initObj:"initObj"}],initObj:[function(e,t,n){"use strict";cc._RFpush(t,"89be7GrbhlNd5dvO/eM7ZCk","initObj");var i=e("config"),o=i.player,c=i.level;t.exports={player:o,time:60,levelTimeBanner:{position:cc.v2(263,391)},miner:{position:cc.v2(554,129)},getobj:function(){return c["level"+o.level].obj},fastSpeed:i.fastSpeed},cc._RFpop()},{config:"config"}],levelover:[function(e,t,n){"use strict";cc._RFpush(t,"6e262iFH/dEtbhzAFuCGdWF","levelover"),cc.Class({"extends":cc.Component,properties:{stateNode:{"default":null,type:cc.Node}},onLoad:function(){this.stateLabel=this.stateNode.getComponent(cc.Label)},success:function(){this.stateLabel.string="通关成功"},fail:function(){this.stateLabel.string="通关失败"}}),cc._RFpop()},{}],menu:[function(e,t,n){"use strict";cc._RFpush(t,"8697fIQM/lDkK7Gz7bKKtAU","menu");var i=e("initObj"),o=i.player;cc.Class({"extends":cc.Component,properties:{clicksound:{"default":null,url:cc.AudioClip},isSound:{type:cc.Boolean,"default":!0},isMusic:{type:cc.Boolean,"default":!0},menu:{type:cc.Node,"default":null},mask:{type:cc.Node,"default":null},currentbgAudio:null,closeMenubutton:{type:cc.Node,"default":null},soundonbtn:{type:cc.Node,"default":null},soundoffbtn:{type:cc.Node,"default":null},musiconbtn:{type:cc.Node,"default":null},musicoffbtn:{type:cc.Node,"default":null},outgame:{type:cc.Node,"default":null}},onLoad:function(){cc.game.addPersistRootNode(this.node),this.listeninit()},soundonbtnClick:function(){this.soundCtrl(!1),this.playClickSound()},soundoffbtnClick:function(){this.soundCtrl(!0),this.playClickSound()},musiconbtnClick:function(){this.musciCtrl(!1),this.playClickSound()},musicoffbtnClick:function(){this.musciCtrl(!0),this.playClickSound()},initsound:function(){this.soundCtrl("false"!==o.isSound),this.musciCtrl("false"!==o.isMusic)},playClickSound:function(){o.isSound&&cc.audioEngine.playEffect(this.clicksound,!1,!0)},soundCtrl:function(e){console.log(e),o.isSound=e,this.soundonbtn.active=e,this.soundoffbtn.active=!e},musciCtrl:function(e){o.isMusic=e,this.musiconbtn.active=e,this.musicoffbtn.active=!e,this.menuSoundCtrl(e)},setcurrentbgAudio:function(e){this.currentbgAudio&&cc.audioEngine.stopMusic(),this.currentbgAudio=e,this.initsound()},menuSoundCtrl:function(e){e?cc.audioEngine.playMusic(this.currentbgAudio,!0):cc.audioEngine.stopMusic()},listeninit:function(){this.closeMenubutton.on("touchend",function(e){this.menuhide()},this),this.outgame.on("touchend",function(e){cc.log("退出游戏")},this)},menushow:function(){o.pause=!0;var e=cc.moveTo(.2,40,0),t=cc.moveTo(.5,-10,0),n=cc.moveTo(.3,-0,0);e.easing(cc.easeOut(2));var i=cc.sequence(e,t,n);this.menu.runAction(i),this.mask.active=!0},menuhide:function(){o.pause=!1;var e=cc.moveTo(.3,-30,0),t=cc.moveTo(.3,500,0),n=cc.moveTo(0,-648,0),i=cc.callFunc(function(e,t){this.mask.active=!1},this,0);e.easing(cc.easeOut(1.5)),t.easing(cc.easeIn(5));var c=cc.sequence(e,t,i,n);this.menu.runAction(c)}}),cc._RFpop()},{initObj:"initObj"}],miner:[function(e,t,n){"use strict";cc._RFpush(t,"ab864fWm3hCPbT+oWZt7sIq","miner");var i=e("initObj"),o=i.player;cc.Class({"extends":cc.Component,properties:{gameNode:{"default":null,type:cc.Node},ropeNode:{"default":null,type:cc.Node},clawNode:{"default":null,type:cc.Node},claw0Node:{"default":null,type:cc.Node},claw1Node:{"default":null,type:cc.Node}},onLoad:function(){this.animation=this.node.getComponent(cc.Animation),this.game=this.gameNode.getComponent("game"),this.rope=this.ropeNode.getComponent("rope"),this.claw=this.clawNode.getComponent("claw"),this.claw0=this.claw0Node.getComponent("claw0"),this.claw1=this.claw1Node.getComponent("claw1")},init:function(){this.texture=this.getComponent(cc.Sprite).spriteFrame,this.minerToRight()},minerToRight:function(){var e=1,t=cc.moveTo(e,cc.p(0,i.miner.position.y));this.node.setPosition(i.miner.position),this.node.runAction(t),this.animation.play("miner-appear"),this.scheduleOnce(function(){this.animation.stop(),this.getComponent(cc.Sprite).spriteFrame=this.texture,this.ropeRotate(),this.game.gameRun()},e,this)},minerToleft:function(){var e=cc.callFunc(function(e){this.animation.stop(),this.game.goNext()},this),t=cc.moveTo(1.5,i.miner.position);this.node.runAction(cc.sequence(t,e))},getAnimation:function(e){this.animationType="miner-pull-"+e.type,this.animation.play(this.animationType),this.getSpeend=e.numb},ropeRotate:function(){function e(){var e=this.getSpeend;this.ropeNode.height-=e,this.clawNode.y+=e,this.clawNode.y>=l&&(this.state="rotate",this.clawNode.y=l,this.ropeNode.height=u,this.animation.stop(),this.getComponent(cc.Sprite).spriteFrame=this.texture,this.clawOpen(),this.game.minerUp())}function t(){var e=10;this.ropeNode.height+=e,this.clawNode.y-=e}function n(){c.rotation+=a,c.rotation>s&&(a=-1),c.rotation<-s&&(a=1)}var c=this.ropeNode,s=75,a=1,l=this.clawNode.y,u=this.ropeNode.height,r=!1,d=!1;this.state="rotate",this.callback=function(){if(o.isgamerun())if(o.pause)"up"==this.state&&(this.animation.pause(),r=!0);else switch(this.state){case"down":t.call(this);break;case"up":r&&(this.animation.play(this.animationType),r=!1),e.call(this);break;default:n.call(this)}else"rotate"==this.state?(o.preMoney=0,this.minerToleft(),this.unschedule(this.callback)):(d||(this.clawOpen(),this.claw.objHide(),this.state="up",this.animation.stop(),this.getAnimation(i.fastSpeed),this.animation.play(this.animationType),d=!0),e.call(this))},this.schedule(this.callback,.01)},clawOpen:function(){var e=cc.rotateTo(.2,0),t=cc.rotateTo(.2,0);this.claw0Node.runAction(e),this.claw1Node.runAction(t)},clawClose:function(){var e=cc.rotateTo(.1,-15),t=cc.rotateTo(.1,15);this.claw0Node.runAction(e),this.claw1Node.runAction(t)}}),cc._RFpop()},{initObj:"initObj"}],obj:[function(e,t,n){"use strict";cc._RFpush(t,"3ebba/od35LSa1iUZtf7Cg0","obj");var i=e("initObj");cc.Class({"extends":cc.Component,properties:{gold1:{"default":null,type:cc.Prefab},gold2:{"default":null,type:cc.Prefab},gold3:{"default":null,type:cc.Prefab},gold4:{"default":null,type:cc.Prefab},stone0:{"default":null,type:cc.Prefab},stone1:{"default":null,type:cc.Prefab}},init:function(){this.node.removeAllChildren();for(var e,t,n=i.getobj(),o=0;o<n.length;o++)e=n[o],t=cc.instantiate(this[e.name]),t.parent=this.node,t.setPosition(e.x,e.y)}}),cc._RFpop()},{initObj:"initObj"}],state:[function(e,t,n){"use strict";cc._RFpush(t,"f3c4adUPI5DTrgBgBlUjqGl","state");var i=e("initObj"),o=i.player;cc.Class({"extends":cc.Component,properties:{gameNode:{type:cc.Node,"default":null},levelTimeBanner:{type:cc.Node,"default":null},target:{type:cc.Node,"default":null},money:{type:cc.Node,"default":null},level:{type:cc.Node,"default":null},timer:{type:cc.Node,"default":null}},onLoad:function(){this.game=this.gameNode.getComponent("game")},init:function(){this.setLevel(),this.setTarget(),this.rMenuToBtn(),this.timeRun()},rMenuToBtn:function(){var e=cc.moveBy(.8,cc.p(0,-127));this.levelTimeBanner.setPosition(i.levelTimeBanner.position),this.scheduleOnce(function(){this.levelTimeBanner.runAction(e)},.8)},timeRun:function(){var e=i.time;this.callback=function(){o.pause||(e--,this.timer.getComponents(cc.Label)[0].string=e,e<=0&&(this.game.gameEnd(),this.unschedule(this.callback)))},this.schedule(this.callback,1)},setLevel:function(){this.level.getComponents(cc.Label)[0].string=o.level},setTarget:function(){this.target.getComponents(cc.Label)[0].string=o.getTarget()},addMoney:function(){var e=o.money-0+o.preMoney;o.money=e,this.money.getComponents(cc.Label)[0].string=e}}),cc._RFpop()},{initObj:"initObj"}]},{},["ButtonScaler","obj","bg","levelover","config","menu","initObj","index","game","miner","claw","state"]);